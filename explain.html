<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Options Intelligent Trading Interface</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#2c3e50", // Dark blue header
                        secondary: "#3b82f6", // Blue accents
                        success: "#22c55e", // Green
                        danger: "#ef4444", // Red
                        warning: "#f59e0b", // Orange/Gold
                        "background-light": "#f3f4f6",
                        "background-dark": "#111827",
                        "surface-light": "#ffffff",
                        "surface-dark": "#1f2937",
                        "sidebar-alert": "#fff1f2", // Light pink
                        "sidebar-alert-text": "#e11d48", // Dark red
                    },
                    fontFamily: {
                        display: ["'Noto Sans TC'", "sans-serif"],
                        sans: ["'Noto Sans TC'", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.25rem",
                    },
                },
            },
        };
    </script>
    <style>
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }
        /* Custom disabled state for inputs to make them look clearly disabled */
        input:disabled, select:disabled {
            background-color: #e2e8f0;
            cursor: not-allowed;
            opacity: 0.7;
        }
        .dark input:disabled, .dark select:disabled {
            background-color: #374151;
        }

        /* Tooltip Indicator Style */
        .term-tooltip {
            cursor: help;
            border-bottom: 1px dashed #9ca3af; /* Dotted underline */
            position: relative;
        }
        
        /* Global Floating Tooltip */
        #global-tooltip {
            position: fixed;
            background-color: rgba(31, 41, 55, 0.98); /* dark gray */
            color: #fff;
            padding: 12px;
            border-radius: 6px;
            font-size: 13px;
            line-height: 1.6;
            z-index: 10000; /* Topmost layer */
            pointer-events: none; /* Let mouse pass through */
            max-width: 250px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
            border: 1px solid #4b5563;
            display: none; /* Hidden by default */
            text-align: justify; /* é½Šé ­ */
            text-justify: inter-ideograph;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-sans text-gray-800 dark:text-gray-200 min-h-screen flex flex-col" oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;">

    <!-- Global Tooltip Container -->
    <div id="global-tooltip"></div>

    <!-- Navbar -->
    <nav class="bg-primary text-white px-4 md:px-6 py-3 flex justify-between items-center shadow-md z-30 sticky top-0">
        <div class="flex items-center space-x-3">
            <button id="mobile-menu-btn" class="lg:hidden p-1 hover:bg-white/10 rounded transition">
                <span class="material-icons-outlined">menu</span>
            </button>
            <span class="material-icons-outlined text-3xl hidden md:block">cloud_queue</span>
            <div>
                <h1 class="text-xl font-bold tracking-wide"></h1>
            </div>
            <div class="h-6 w-px bg-white/30 mx-2 hidden md:block"></div>
            <h2 class="text-sm md:text-lg font-medium">é¸æ“‡æ¬Šæ™ºèƒ½äº¤æ˜“</h2>
        </div>
        <div class="flex items-center space-x-4">
            <a href="index.html" class="text-sm font-medium hover:text-white/80 transition flex items-center gap-1">
                <span class="material-icons-outlined text-base">home</span>å›åˆ°é¦–é 
            </a>
            <a href="https://lin.ee/n3bZgtk" target="_blank" class="text-sm font-medium bg-green-600 hover:bg-green-700 px-3 py-1 rounded transition flex items-center gap-1">
                <span class="material-icons-outlined text-base">chat</span>è¯ç¹«LINE
            </a>
            <button class="hover:bg-white/10 p-1 rounded-full transition ml-2">
                <span class="material-icons-outlined">account_circle</span>
            </button>
        </div>
    </nav>

    <div class="flex flex-1 overflow-hidden relative">
        
        <!-- Sidebar -->
        <aside id="sidebar" class="transform -translate-x-full lg:translate-x-0 transition-transform duration-300 absolute lg:relative z-20 w-64 h-full bg-surface-light dark:bg-surface-dark border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-y-auto shadow-lg lg:shadow-none">
            <div class="p-4 space-y-4">
                <!-- Start/Stop Button -->
                <button id="toggle-trading-btn" onclick="toggleTrading()" class="w-full bg-danger hover:bg-danger/90 text-white font-bold py-3 rounded shadow transition flex items-center justify-center space-x-2">
                    <span id="btn-icon" class="material-icons-outlined" style="display: none;">play_arrow</span>
                    <span id="btn-text">â–  åœæ­¢äº¤æ˜“</span>
                </button>
            </div>
            
            <!-- Transaction Overview Section -->
            <div class="px-4 py-2">
                <h3 class="font-bold text-gray-900 dark:text-white mb-2 px-2">äº¤æ˜“ç¸½è¦½</h3>
                <nav class="space-y-1 text-sm text-gray-600 dark:text-gray-400">
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between group" href="#">
                        <span class="term-tooltip" data-tip="é€£ç·šä¸­=èˆ‡åˆ¸å•†é€£ç·šæ­£å¸¸">é€£ç·šç‹€æ…‹</span>
                        <span class="font-medium text-gray-700 dark:text-gray-300">é€£ç·šä¸­</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="äº¤æ˜“ä¸­=ä¸‹å–®æ©Ÿé‹ä½œæ­£å¸¸">äº¤æ˜“ç‹€æ…‹</span>
                        <span id="trading-status-text" class="font-medium text-gray-700 dark:text-gray-300">äº¤æ˜“ä¸­</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="æœ€çœŸå¯¦çš„è³‡é‡‘ç‹€æ³(å·²æ‰£é™¤æ‰‹çºŒè²»/ç¨…é‡‘)ï¼Œæ‹¬è™Ÿé¡¯ç¤ºç²åˆ©ï¼…">æ¬Šç›Šç¸½å€¼</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300 text-right">350,856ï¼ˆ0.2ï¼…ï¼‰</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="ç”¨æ–¼ä¿ç•™å¯ç”¨é¤˜é¡åˆ¤æ–·ï¼Œä½æ–¼è¨­å®šé‡‘é¡æ™‚ä¸å»ºç«‹æ–°éƒ¨ä½">å¯ç”¨é‡‘é¡</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300 text-right">243,468 (70 %)</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="æ‰€æœ‰éƒ¨ä½çš„ç¸½æˆæœ¬é»æ•¸">æŒå€‰æˆæœ¬</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">186</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="æ‰€æœ‰éƒ¨ä½ç›®å‰çš„ç¸½åƒ¹å€¼é»æ•¸ã€‚ç²åˆ©æ™‚é»æ•¸æ¸›å°‘ï¼Œè™§ææ™‚é»æ•¸å¢åŠ ">å³æ™‚ç¸½é»</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">161</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="Sell Call èˆ‡ Buy Call åƒ¹å·®é»æ•¸ç¸½å’Œ">SCBC ç¸½é»</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">0</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="Sell Put èˆ‡ Buy Put åƒ¹å·®é»æ•¸ç¸½å’Œ">SPBP ç¸½é»</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">161</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="é¡¯ç¤ºç›®å‰éƒ¨ä½çš„å¤šç©ºåå‘ (0=åç©º, 100=åå¤š, 50=ä¸­ç«‹)">æŒå€‰æº«åº¦</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">100 %</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="ç›®å‰æŒæœ‰çš„åˆç´„å£æ•¸">æŒå€‰æ•¸é‡</span>
                        <span class="font-mono text-xs text-gray-700 dark:text-gray-300">SP:23 BP:23</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between" href="#">
                        <span class="term-tooltip" data-tip="å·²å¹³å€‰çš„æ¬¡æ•¸">å¹³å€‰æ¬¡æ•¸</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">0</span>
                    </a>
                    <a class="block px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700" href="#">
                        <div class="flex justify-between w-full">
                            <span class="term-tooltip" data-tip="è‹¥æŒå€‰éƒ¨ä½å…¨éƒ¨æ­¸é›¶çš„é ä¼°ç²åˆ©%">æ­¸é›¶é æœŸç¸½å ±é…¬</span>
                            <span class="font-mono text-gray-700 dark:text-gray-300">2.3 %</span>
                        </div>
                    </a>
                </nav>
            </div>

            <!-- Intelligent Quotes Section -->
            <div class="px-4 py-2 mt-4 border-t border-gray-200 dark:border-gray-700 pb-8">
                <div class="flex flex-col mb-2 px-2">
                    <h3 class="font-bold text-gray-900 dark:text-white term-tooltip" data-tip="å¸‚å ´è¡Œæƒ…åˆ†æå·¥å…·ï¼Œæä¾›å¤šç©ºåˆ¤æ–·ä¾æ“š">æ™ºèƒ½å ±åƒ¹</h3>
                    <span class="text-xs text-gray-500 dark:text-gray-500 font-mono mt-0.5">2026/01/12 13:18:36</span>
                </div>
                <nav class="space-y-1 text-sm text-gray-600 dark:text-gray-400">
                    <div class="px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center">
                        <span>TX2 æœŸè²¨åƒ¹æ ¼</span>
                        <span class="font-mono font-bold text-danger">30,643 â–² 255</span>
                    </div>
                    <div class="px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center">
                        <span class="term-tooltip" data-tip="åˆ¤æ–·å¸‚å ´ Call çš„è²·è³£åå‘">è²·æ¬Šæˆäº¤è¡Œç‚º</span>
                        <span class="font-mono text-danger">Buy â–²</span>
                    </div>
                    <div class="px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center">
                        <span class="term-tooltip" data-tip="åˆ¤æ–·å¸‚å ´ Put çš„è²·è³£åå‘">è³£æ¬Šæˆäº¤è¡Œç‚º</span>
                        <span class="font-mono text-danger">Sell â–²</span>
                    </div>
                    <div class="px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center">
                        <span class="term-tooltip" data-tip="ç¶œåˆå¸‚å ´æ‰€æœ‰éƒ¨ä½è¨ˆç®—å‡ºçš„å–®ä¸€æ•¸å€¼ï¼Œæ­£æ•¸åå¤šï¼Œè² æ•¸åç©º">ç•¶ç›¤æ•¸å€¼</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">22,142</span>
                    </div>
                    <div class="px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center">
                        <span class="term-tooltip" data-tip="å¸‚å ´å¤šç©ºæº«åº¦ï¼Œé”åˆ°è¨­å®šæ•¸å€¼æ™‚äº¤æ˜“">å¤šç©ºæº«åº¦</span>
                        <span class="font-mono text-danger">67 %</span>
                    </div>
                    <div class="px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center">
                        <span class="term-tooltip" data-tip="è§¸ç™¼äº¤æ˜“çš„æ™‚æ©Ÿé»ï¼Œèˆ‡å‰ä¸€åˆ†é˜è¶…éè¨­å®šå€¼ï¼Œå‰‡é€å‡ºå§”è¨—ï¼ˆå¯è¨­å®šæ­£æ•¸æˆ–è² æ•¸ï¼Œ0ï¼å…¨éƒ¨ç¬¦åˆï¼‰">ç”Ÿå‘½ç¸½å€¼ (å¢æ¸›%)</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">4,837 (0.1%)</span>
                    </div>
                    <div class="px-2 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center">
                        <span class="term-tooltip" data-tip="ç”Ÿå‘½ç¸½å€¼çš„å¹³å‡ç‹€æ…‹">ç”Ÿå‘½å¹³å‡å€¼(ç¾æ³%)</span>
                        <span class="font-mono text-gray-700 dark:text-gray-300">28%</span>
                    </div>
                </nav>
                <div class="mt-3 px-2 text-[10px] text-gray-400 leading-tight">
                    ï¼Šå ±åƒ¹æºç”±åˆ¸å•†æä¾›ï¼Œç¶“ç³»çµ±è¨ˆç®—å¾Œå‘ˆç¾
                </div>
            </div>
        </aside>

        <!-- Overlay for mobile sidebar -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-10 hidden lg:hidden"></div>

        <main class="flex-1 overflow-y-auto p-4 md:p-6 space-y-4 bg-gray-100 dark:bg-gray-900 scroll-smooth">
            
            <!-- Performance Chart -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700">
                <button onclick="toggleSection('chart-content', 'chart-icon')" class="w-full px-4 py-3 flex justify-between items-center text-left font-bold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition">
                    <span class="flex items-center space-x-2">
                        <span class="term-tooltip" data-tip="ç´¯ç©æç›Šçš„è®ŠåŒ–è¶¨å‹¢">ç¸¾æ•ˆèµ°å‹¢åœ–</span>
                    </span>
                    <span id="chart-icon" class="material-icons-outlined text-gray-400 transition-transform duration-200" style="transform: rotate(180deg);">expand_less</span>
                </button>
                <div id="chart-content" class="hidden p-4 border-t border-gray-100 dark:border-gray-700">
                    <div class="h-48 bg-gray-50 dark:bg-gray-800 rounded border border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center text-gray-400">
                        <div class="text-center">
                            <span class="material-icons-outlined text-4xl mb-2">insert_chart_outlined</span>
                            <p class="text-sm">Chart Placeholder</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Transaction Details -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700">
                <button onclick="toggleSection('details-content', 'details-icon')" class="w-full px-4 py-3 flex justify-between items-center text-left font-bold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition">
                    <span class="flex items-center space-x-2">
                        <span class="term-tooltip" data-tip="è©³ç´°çš„æˆäº¤ç´€éŒ„">äº¤æ˜“æ˜ç´°</span>
                    </span>
                    <span id="details-icon" class="material-icons-outlined text-gray-400 transition-transform duration-200" style="transform: rotate(180deg);">expand_less</span>
                </button>
                <div id="details-content" class="hidden p-4 border-t border-gray-100 dark:border-gray-700">
                    <div class="h-48 bg-gray-50 dark:bg-gray-800 rounded border border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center text-gray-400">
                        <div class="text-center">
                            <span class="material-icons-outlined text-4xl mb-2">receipt_long</span>
                            <p class="text-sm">No transactions yet</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Basic Settings -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700 p-4">
                <div class="flex justify-between items-center mb-4 border-b border-gray-100 dark:border-gray-700 pb-2">
                    <h3 class="font-bold text-gray-800 dark:text-white flex items-center space-x-2">
                        <span class="term-tooltip" data-tip="è³‡é‡‘èˆ‡å¥‘ç´„çš„åŸºç¤é…ç½®">åŸºæœ¬è¨­å®š</span>
                    </h3>
                    <button class="flex items-center space-x-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 text-xs px-3 py-1.5 rounded transition border border-gray-300 dark:border-gray-600">
                        <span>ğŸ’¾</span>
                        <span>å„²å­˜</span>
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="é¸æ“‡è¦äº¤æ˜“çš„åˆç´„æœˆä»½æˆ–é€±åˆ¥ (å¦‚è¿‘é€±ä¸‰)">äº¤æ˜“å•†å“å¥‘ç´„</span>
                        </label>
                        <div class="relative">
                            <select id="contract-select" class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 pr-8 focus:ring-1 focus:ring-primary" disabled>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="è¨­å®šçµç®—å¾Œæ˜¯å¦è‡ªå‹•åˆ‡æ›åˆ°ä¸‹ä¸€å€‹å¥‘ç´„">çµç®—è‡ªå‹•æ›å¥‘ç´„</span>
                        </label>
                        <select class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 focus:ring-1 focus:ring-primary">
                            <option>å›ºå®šè¿‘é€±ä¸‰</option>
                            <option>å›ºå®šè¿‘é€±äº”</option>
                            <option>è¿‘é€±ä¸‰&lt;=&gt;è¿‘é€±äº”</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="æŠ•å…¥çš„è³‡é‡‘æˆæœ¬ï¼Œå…¥é‡‘å¢åŠ /å‡ºé‡‘æ¸›å°‘">æŠ•å…¥è³‡é‡‘æˆæœ¬</span>
                        </label>
                        <input class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 focus:ring-1 focus:ring-primary" type="text" value="350,000"/>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="ä½æ–¼è¨­å®šé‡‘é¡æ™‚ä¸å»ºç«‹æ–°éƒ¨ä½ï¼Œå¯è¨­å®šç™¾åˆ†æ¯”æˆ–é‡‘é¡">ä¿ç•™å¯ç”¨é¤˜é¡</span>
                        </label>
                        <div class="flex rounded-md shadow-sm">
                            <input class="flex-1 bg-gray-100 dark:bg-gray-800 border-none rounded-l text-sm p-2 focus:ring-1 focus:ring-primary" type="text" value="70"/>
                            <select class="bg-gray-200 dark:bg-gray-700 border-none text-sm px-3 py-2 rounded-r w-20 focus:ring-1 focus:ring-primary cursor-pointer text-center">
                                <option>%</option>
                                <option>å…ƒ</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="ç¨‹å¼æƒæè¡Œæƒ…çš„é »ç‡ (ç§’)">äº¤æ˜“æª¢æŸ¥é€±æœŸç§’æ•¸ (Min: 10)</span>
                        </label>
                        <input class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 focus:ring-1 focus:ring-primary" type="number" min="10" value="33"/>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="é€£çºŒå¹³å€‰æ™‚çš„ç·©è¡æ™‚é–“ (ç§’)">å¹³å€‰é–“éš”ç§’æ•¸ (Min: 4)</span>
                        </label>
                        <input class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 focus:ring-1 focus:ring-primary" type="number" min="4" value="17"/>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="å‹•æ…‹Sellåƒ¹ä½æ–¼æ­¤æ•¸å€¼ä¸ä¸‹å–®">å‹•æ…‹ Sell åƒ¹ä¸‹é™ (ä¸ä¸‹å–®)</span>
                        </label>
                        <input class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 focus:ring-1 focus:ring-primary" type="text" value="4"/>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="å‹•æ…‹Sellåƒ¹é«˜æ–¼æ­¤æ•¸å€¼è‡ªå‹•é™ä½ç‚ºè¨­å®šå€¼">å‹•æ…‹ Sell åƒ¹ä¸Šé™ (æœ‰ä¸‹å–®)</span>
                        </label>
                        <input class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 focus:ring-1 focus:ring-primary" type="text" value="50"/>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 dark:text-gray-400 mb-1">
                            <span class="term-tooltip" data-tip="å¹³è¡¡æˆäº¤æ©Ÿåˆ¶ï¼Œè®“åƒ¹è¶Šå¤§è¶Šå®¹æ˜“æˆäº¤">å§”è¨—è®“åƒ¹</span>
                        </label>
                        <input class="w-full bg-gray-100 dark:bg-gray-800 border-none rounded text-sm p-2 focus:ring-1 focus:ring-primary" type="text" value="0.5"/>
                    </div>
                </div>
            </div>

            <!-- Direction Judgment -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700 p-4">
                <div class="flex justify-between items-center mb-4 border-b border-gray-100 dark:border-gray-700 pb-2">
                    <h3 class="font-bold text-gray-800 dark:text-white flex items-center space-x-2">
                        <span class="term-tooltip" data-tip="æ±ºå®šé€²å ´æ–¹å‘çš„ç­–ç•¥ï¼Œå‹¾é¸éœ€åŒæ™‚ç¬¦åˆ">æ–¹å‘åˆ¤æ–· (å‹¾é¸éœ€åŒæ™‚ç¬¦åˆ)</span>
                    </h3>
                    <div class="flex items-center space-x-4">
                        <label class="flex items-center space-x-1 cursor-pointer select-none text-sm text-gray-600 dark:text-gray-400 hover:text-primary">
                            <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary h-4 w-4">
                            <span class="term-tooltip" data-tip="ç¬¦åˆï¼ˆäº¤æ˜“å•†å“å¥‘ç´„èˆ‡çµç®—è‡ªå‹•æ›å¥‘ç´„ï¼‰ç›¸åŒçš„ç¤ºç¯„è¨­å®šåšå–®æ¬¡è¤‡è£½åƒæ•¸">å–®æ¬¡è¤‡è£½åƒæ•¸</span>
                        </label>
                        <button class="flex items-center space-x-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 text-xs px-3 py-1.5 rounded transition border border-gray-300 dark:border-gray-600">
                            <span>ğŸ’¾</span>
                            <span>å„²å­˜</span>
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                    <div class="space-y-2 group">
                        <label class="flex items-center space-x-2 cursor-pointer select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" checked/>
                            <span class="text-sm font-bold term-tooltip" data-tip="Callèˆ‡Putäº¤æ˜“è¡Œç‚ºæ–¹å‘ä¸€è‡´æ™‚æ‰äº¤æ˜“">åˆè¨ˆæ–¹å‘</span>
                        </label>
                        <!-- Equal distribution (flex-1) -->
                        <div class="flex text-xs text-white text-center h-8">
                            <div class="flex-1 bg-danger flex items-center justify-center rounded-l shadow-sm">åŒæ™‚å‘ä¸Šåšå¤š</div>
                            <div class="flex-1 bg-success flex items-center justify-center rounded-r shadow-sm">åŒæ™‚å‘ä¸‹åšç©º</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2 cursor-pointer select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="å¸‚å ´å¤šç©ºæº«åº¦é”åˆ°è¨­å®šæ•¸å€¼æ™‚äº¤æ˜“">å¤šç©ºæº«åº¦</span>
                        </label>
                        <!-- Changed gray divs to inputs, ensure all 4 items have equal width (flex-1). Removed placeholder="0" -->
                        <div class="flex text-xs text-center h-8">
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none rounded-l text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-danger text-white flex items-center justify-center">ä»¥ä¸Šåšå¤š</div>
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-success text-white flex items-center justify-center rounded-r">ä»¥ä¸‹åšç©º</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2 cursor-pointer select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="é«˜ä½æ–¼è¨­å®šå€¼,åšé€†å‹¢éƒ¨ä½">é€†å‹¢å¤šç©ºæº«åº¦</span>
                        </label>
                        <!-- Changed gray divs to inputs, ensure all 4 items have equal width (flex-1). Removed placeholder="0" -->
                        <div class="flex text-xs text-center h-8">
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none rounded-l text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-success text-white flex items-center justify-center">ä»¥ä¸Šåšç©º</div>
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-danger text-white flex items-center justify-center rounded-r">ä»¥ä¸‹åšå¤š</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2 cursor-pointer select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="å¯è‡ªè¡Œè¨­å®šåƒ¹æ ¼ä½œç‚ºå¤šç©ºåˆ†ç•Œ">æœŸè²¨åƒ¹æ ¼</span>
                        </label>
                        <!-- Changed gray divs to inputs, ensure all 4 items have equal width (flex-1). Removed placeholder="0" -->
                        <div class="flex text-xs text-center h-8">
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none rounded-l text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-danger text-white flex items-center justify-center">ä»¥ä¸Šåšå¤š</div>
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-success text-white flex items-center justify-center rounded-r">ä»¥ä¸‹åšç©º</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2 cursor-pointer select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="é«˜ä½æ–¼è¨­å®šå€¼,åšé€†å‹¢éƒ¨ä½">é€†å‹¢æœŸè²¨åƒ¹æ ¼</span>
                        </label>
                        <!-- Changed gray divs to inputs, ensure all 4 items have equal width (flex-1). Removed placeholder="0" -->
                        <div class="flex text-xs text-center h-8">
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none rounded-l text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-success text-white flex items-center justify-center">ä»¥ä¸Šåšç©º</div>
                            <input type="number" class="flex-1 w-0 bg-gray-200 dark:bg-gray-700 border-none text-center p-0 text-gray-800 dark:text-white focus:ring-1 focus:ring-inset focus:ring-primary placeholder-gray-400" placeholder="">
                            <div class="flex-1 w-0 bg-danger text-white flex items-center justify-center rounded-r">ä»¥ä¸‹åšå¤š</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Temperature Adjustment -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700 p-4" id="temp-adjust-section">
                <div class="flex justify-between items-center mb-4 border-b border-gray-100 dark:border-gray-700 pb-2">
                    <h3 class="font-bold text-gray-800 dark:text-white flex items-center space-x-2">
                         <span class="term-tooltip" data-tip="å°‡éƒ¨ä½æº«åº¦èª¿æ•´è‡³è²¼è¿‘å¸‚å ´ï¼Œé¿å…åé›¢éå¤§ï¼Œå¯ç”¨é‡‘é¡å¤§æ–¼ä¿ç•™å¯ç”¨é¤˜é¡æ™‚å»ºç«‹æ–°å€‰ï¼Œå°æ–¼å°±å¹³å€‰">å¤šç©ºæº«åº¦èª¿æ•´</span>
                    </h3>
                    <div class="flex items-center space-x-4">
                        <label class="flex items-center space-x-1 cursor-pointer select-none text-sm text-gray-600 dark:text-gray-400 hover:text-primary">
                            <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary h-4 w-4">
                            <span class="term-tooltip" data-tip="ç¬¦åˆï¼ˆäº¤æ˜“å•†å“å¥‘ç´„èˆ‡çµç®—è‡ªå‹•æ›å¥‘ç´„ï¼‰ç›¸åŒçš„ç¤ºç¯„è¨­å®šåšå–®æ¬¡è¤‡è£½åƒæ•¸">å–®æ¬¡è¤‡è£½åƒæ•¸</span>
                        </label>
                        <button class="flex items-center space-x-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 text-xs px-3 py-1.5 rounded transition border border-gray-300 dark:border-gray-600">
                            <span>ğŸ’¾</span>
                            <span>å„²å­˜</span>
                        </button>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="flex items-center space-x-2 cursor-pointer select-none">
                        <input id="cb-temp-adjust" class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputs('temp-adjust-section', this.checked)"/>
                        <span class="text-sm font-bold">å•Ÿç”¨å¤šç©ºæº«åº¦èª¿æ•´</span>
                    </label>
                </div>
                <!-- Removed opacity-50 class to cancel fading -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 transition-opacity duration-300 pointer-events-none" id="temp-adjust-inputs">
                    <div class="flex rounded-md shadow-sm">
                        <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-secondary bg-secondary/80 text-white text-xs font-bold min-w-[80px] justify-center term-tooltip pointer-events-auto" data-tip="åƒè€ƒå¸‚å ´å¤šç©ºæº«åº¦çš„æ¬Šé‡ (100%å®Œå…¨ç›¸ä¿¡å¸‚å ´ï¼Œ0%å®Œå…¨ä¸ç›¸ä¿¡å¸‚å ´)">
                          è¨­å®šåŠ›é“
                        </span>
                        <div class="flex-1 min-w-0 relative">
                            <select class="w-full border-none bg-gray-100 dark:bg-gray-700 text-sm p-2 rounded-none focus:ring-inset focus:ring-1 focus:ring-secondary" disabled>
                                <option>100 %</option>
                                <option>80 %</option>
                                <option>50 %</option>
                            </select>
                            <span class="absolute right-2 top-2 material-icons-outlined text-gray-500 text-sm pointer-events-none">expand_more</span>
                        </div>
                        <span class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-secondary bg-secondary/80 text-white text-xs">
                          =
                        </span>
                    </div>
                    <div class="flex rounded-md shadow-sm">
                        <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-secondary bg-secondary/80 text-white text-xs font-bold min-w-[80px] justify-center term-tooltip pointer-events-auto" data-tip="è¨­å®šä¸å‹•ä½œç¯„åœ (å¦‚ +/- 40é»)ï¼Œé¿å…é »ç¹èª¿æ•´éƒ¨ä½">
                          å®¹è¨±ç¯„åœ
                        </span>
                        <div class="flex-1 min-w-0 relative">
                            <select class="w-full border-none bg-gray-100 dark:bg-gray-700 text-sm p-2 rounded-none focus:ring-inset focus:ring-1 focus:ring-secondary" disabled>
                                <option>40</option>
                                <option>35</option>
                                <option>30</option>
                            </select>
                            <span class="absolute right-2 top-2 material-icons-outlined text-gray-500 text-sm pointer-events-none">expand_more</span>
                        </div>
                        <span class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-secondary bg-secondary/80 text-white text-xs">
                          =
                        </span>
                    </div>
                </div>
            </div>

            <!-- Trading Conditions -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700 p-4">
                <div class="flex justify-between items-center mb-3 border-b border-gray-100 dark:border-gray-700 pb-2">
                    <h3 class="font-bold text-gray-800 dark:text-white flex items-center space-x-2">
                        <span class="term-tooltip" data-tip="æ±ºå®šé€²å ´æ™‚æ©Ÿèˆ‡åƒ¹ä½">äº¤æ˜“æ¢ä»¶</span>
                    </h3>
                    <div class="flex items-center space-x-4">
                        <label class="flex items-center space-x-1 cursor-pointer select-none text-sm text-gray-600 dark:text-gray-400 hover:text-primary">
                            <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary h-4 w-4">
                            <span>å–®æ¬¡è¤‡è£½åƒæ•¸</span>
                        </label>
                        <button class="flex items-center space-x-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 text-xs px-3 py-1.5 rounded transition border border-gray-300 dark:border-gray-600">
                            <span>ğŸ’¾</span>
                            <span>å„²å­˜</span>
                        </button>
                    </div>
                </div>
                
                <div class="flex items-stretch rounded mb-4 overflow-hidden shadow-sm h-9">
                    <div class="bg-primary text-white px-4 flex items-center text-sm font-medium whitespace-nowrap term-tooltip" data-tip="è§¸ç™¼äº¤æ˜“çš„æ™‚æ©Ÿé»ï¼Œèˆ‡å‰ä¸€åˆ†é˜è¶…éè¨­å®šå€¼ï¼Œå‰‡é€å‡ºå§”è¨—ï¼ˆå¯è¨­å®šæ­£æ•¸æˆ–è² æ•¸ï¼Œ0ï¼å…¨éƒ¨ç¬¦åˆï¼‰">ç”Ÿå‘½ç¸½å€¼èˆ‡å‰æœŸå¢æ¸›</div>
                    <input type="text" class="flex-1 bg-white dark:bg-gray-600 border-gray-300 dark:border-gray-500 text-sm px-3 text-center focus:ring-inset focus:ring-1 focus:ring-primary border-y border-r-0" placeholder="è¼¸å…¥æ•¸å€¼">
                    <button class="bg-primary hover:bg-primary/90 text-white text-xs px-6 font-bold transition flex items-center whitespace-nowrap">
                        % åŸ·è¡Œ
                    </button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Buy Side -->
                    <div>
                        <div class="bg-danger text-white text-sm font-bold p-2 rounded-t flex items-center justify-between">
                            <span>åšå¤šï¼šæº«æ¼²åšèŠ SP+BP</span>
                            <span class="material-icons-outlined text-sm opacity-70">trending_up</span>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-800/50 border border-t-0 border-gray-200 dark:border-gray-700 p-3 space-y-3 rounded-b">
                            <div class="flex shadow-sm rounded">
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-l min-w-[80px]">ç”Ÿå‘½ç¸½å€¼ /</span>
                                <input class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs text-center" disabled type="text" value="3000"/>
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-r min-w-[80px] justify-center term-tooltip" data-tip="æ±ºå®šè³£å‡ºéƒ¨ä½(Sell)çš„å±¥ç´„åƒ¹ï¼Œè¨ˆç®—æ–¹å¼ï¼šç”Ÿå‘½ç¸½å€¼ / è¨­å®šå€¼ = å‹•æ…‹Sellåƒ¹">= å‹•æ…‹ Sell åƒ¹</span>
                            </div>
                            <div class="flex shadow-sm rounded">
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-l min-w-[80px] term-tooltip" data-tip="æ±ºå®šè²·å…¥éƒ¨ä½(Buy)çš„å±¥ç´„åƒ¹é–“è·ï¼Œå»ºè­°è¨­å®š100é»">è¤‡å¼å–® BP åƒ¹å¤–</span>
                                <div class="flex-1 relative bg-gray-100 dark:bg-gray-700">
                                    <select class="w-full bg-transparent border-none text-xs h-full pl-2 pr-6">
                                        <option>50</option>
                                        <option>100</option>
                                        <option>150</option>
                                        <option>200</option>
                                        <option>250</option>
                                        <option>300</option>
                                    </select>
                                    <span class="absolute right-1 top-1.5 material-icons-outlined text-gray-500 text-xs pointer-events-none">expand_more</span>
                                </div>
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-r min-w-[40px] justify-center">é»</span>
                            </div>
                        </div>
                    </div>
                    <!-- Sell Side -->
                    <div>
                        <div class="bg-success text-white text-sm font-bold p-2 rounded-t flex items-center justify-between">
                             <span>åšç©ºï¼šæº«è·ŒåšèŠ SC+BC</span>
                             <span class="material-icons-outlined text-sm opacity-70">trending_down</span>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-800/50 border border-t-0 border-gray-200 dark:border-gray-700 p-3 space-y-3 rounded-b">
                            <div class="flex shadow-sm rounded">
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-l min-w-[80px]">ç”Ÿå‘½ç¸½å€¼ /</span>
                                <input class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs text-center" disabled type="text" value="3000"/>
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-r min-w-[80px] justify-center term-tooltip" data-tip="æ±ºå®šè³£å‡ºéƒ¨ä½(Sell)çš„å±¥ç´„åƒ¹ï¼Œè¨ˆç®—æ–¹å¼ï¼šç”Ÿå‘½ç¸½å€¼ / è¨­å®šå€¼ = å‹•æ…‹Sellåƒ¹">= å‹•æ…‹ Sell åƒ¹</span>
                            </div>
                            <div class="flex shadow-sm rounded">
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-l min-w-[80px] term-tooltip" data-tip="æ±ºå®šè²·å…¥éƒ¨ä½(Buy)çš„å±¥ç´„åƒ¹é–“è·ï¼Œå»ºè­°è¨­å®š100é»">è¤‡å¼å–® BC åƒ¹å¤–</span>
                                <div class="flex-1 relative bg-gray-100 dark:bg-gray-700">
                                    <select class="w-full bg-transparent border-none text-xs h-full pl-2 pr-6">
                                        <option>50</option>
                                        <option>100</option>
                                        <option>150</option>
                                        <option>200</option>
                                        <option>250</option>
                                        <option>300</option>
                                    </select>
                                    <span class="absolute right-1 top-1.5 material-icons-outlined text-gray-500 text-xs pointer-events-none">expand_more</span>
                                </div>
                                <span class="bg-primary text-white text-xs flex items-center px-2 rounded-r min-w-[40px] justify-center">é»</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stop Loss / Take Profit -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700 p-4">
                <div class="flex justify-between items-center mb-4 border-b border-gray-100 dark:border-gray-700 pb-2">
                    <h3 class="font-bold text-gray-800 dark:text-white flex items-center space-x-2">
                        <span class="term-tooltip" data-tip="é¢¨éšªæ§åˆ¶èˆ‡ç²åˆ©äº†çµ">åœæåœåˆ©</span>
                    </h3>
                    <div class="flex items-center space-x-4">
                        <label class="flex items-center space-x-1 cursor-pointer select-none text-sm text-gray-600 dark:text-gray-400 hover:text-primary">
                            <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary h-4 w-4">
                            <span>å–®æ¬¡è¤‡è£½åƒæ•¸</span>
                        </label>
                        <button class="flex items-center space-x-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 text-xs px-3 py-1.5 rounded transition border border-gray-300 dark:border-gray-600">
                            <span>ğŸ’¾</span>
                            <span>å„²å­˜</span>
                        </button>
                    </div>
                </div>
                
                <!-- Stop Loss Section -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6 mb-6">
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary stop-loss-check" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold">SC+BC åœæ</span>
                        </label>
                        <!-- Removed opacity-50 -->
                        <div class="flex h-8 shadow-sm rounded transition-opacity pointer-events-none input-group">
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/3">è™§æ / æˆäº¤åƒ¹ &lt;=</span>
                            <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center focus:ring-1 focus:ring-warning" disabled type="number" value="-333"/>
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-10 justify-center">%</span>
                        </div>
                    </div>
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary stop-loss-check" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold">SP+BP åœæ</span>
                        </label>
                         <!-- Removed opacity-50 -->
                        <div class="flex h-8 shadow-sm rounded transition-opacity pointer-events-none input-group">
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/3">è™§æ / æˆäº¤åƒ¹ &lt;=</span>
                            <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center focus:ring-1 focus:ring-warning" disabled type="number" value="-333"/>
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-10 justify-center">%</span>
                        </div>
                    </div>
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary stop-loss-check" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="ä»¥å±¥ç´„åƒ¹å·®ç‚º100ï¼…ï¼Œç›®å‰é»æ•¸è¶…éè¨­å®šï¼…å‰‡åœæï¼ˆä¸è€ƒæ…®æˆæœ¬ï¼‰">SC+BC åƒ¹å·®é»æ•¸ % åœæ (Max 100%)</span>
                        </label>
                         <!-- Removed opacity-50 -->
                        <div class="flex h-8 shadow-sm rounded transition-opacity pointer-events-none input-group">
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/3">ç¾åƒ¹ &gt;= åƒ¹å·®é»æ•¸çš„</span>
                            <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center focus:ring-1 focus:ring-warning" disabled type="number" value="55"/>
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-10 justify-center">%</span>
                        </div>
                    </div>
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary stop-loss-check" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="ä»¥å±¥ç´„åƒ¹å·®ç‚º100ï¼…ï¼Œç›®å‰é»æ•¸è¶…éè¨­å®šï¼…å‰‡åœæï¼ˆä¸è€ƒæ…®æˆæœ¬ï¼‰">SP+BP åƒ¹å·®é»æ•¸ % åœæ (Max 100%)</span>
                        </label>
                         <!-- Removed opacity-50 -->
                        <div class="flex h-8 shadow-sm rounded transition-opacity pointer-events-none input-group">
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/3">ç¾åƒ¹ &gt;= åƒ¹å·®é»æ•¸çš„</span>
                            <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center focus:ring-1 focus:ring-warning" disabled type="number" value="55"/>
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-10 justify-center">%</span>
                        </div>
                    </div>
                </div>
                
                <!-- Take Profit Section -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                    <div class="space-y-4">
                        <!-- New Header Checkbox: SC+BC Profit -->
                        <div class="group">
                            <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                                <input class="rounded border-gray-300 text-primary focus:ring-primary stop-loss-check" type="checkbox" onchange="toggleInputInGroup(this)"/>
                                <span class="text-sm font-bold">SC+BC åœåˆ© (Max 100%)</span>
                            </label>
                            <!-- Profit Target 1 (Changed to Warning Color) -->
                            <div class="flex h-8 shadow-sm rounded transition-opacity pointer-events-none input-group">
                                <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/3">ç²åˆ© / æˆäº¤åƒ¹ &gt;=</span>
                                <input class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs text-center focus:ring-1 focus:ring-warning" disabled type="number" value="85"/>
                                <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-10 justify-center">%</span>
                            </div>
                        </div>
                        
                        <div class="group">
                            <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                                <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputInGroup(this)"/>
                                <span class="text-sm font-bold term-tooltip" data-tip="æ¬Šç›Šç¸½å€¼ç²åˆ©%é”åˆ°è¨­å®šå€¼æ™‚è§¸ç™¼ï¼Œå¹³å€‰é–ä½ç²åˆ©">ä¿åˆ©é™éƒ¨ä½ 1</span>
                            </label>
                             <!-- Removed opacity-50, Changed to Warning Color -->
                            <div class="space-y-2 pointer-events-none input-group transition-opacity">
                                <div class="flex h-8 shadow-sm rounded">
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/4">ç²åˆ© % &gt;=</span>
                                    <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="number" value="1"/>
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-1/3 justify-center">% å¹³å€‰æœ€é«˜åƒ¹</span>
                                </div>
                                <div class="flex h-8 shadow-sm rounded">
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/4">ä¿ç•™</span>
                                    <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="number" placeholder="20"/>
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-1/3 justify-center">é»ä»¥ä¸‹ä¸å¹³å€‰</span>
                                </div>
                            </div>
                        </div>

                        <div class="group">
                             <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                                <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputInGroup(this)"/>
                                <span class="text-sm font-bold term-tooltip" data-tip="æ¬Šç›Šç¸½å€¼è™§æ%é”åˆ°è¨­å®šå€¼æ™‚è§¸ç™¼ï¼Œå¹³å€‰æ§åˆ¶é¢¨éšª">è™§æé™éƒ¨ä½</span>
                            </label>
                             <!-- Removed opacity-50, already Warning Color -->
                             <div class="space-y-2 pointer-events-none input-group transition-opacity">
                                <div class="flex h-8 shadow-sm rounded">
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/4">è™§æ % &lt;=</span>
                                    <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="number" value="-4"/>
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-1/3 justify-center">% å¹³å€‰æœ€é«˜åƒ¹</span>
                                </div>
                                <div class="flex h-8 shadow-sm rounded">
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/4">ä¿ç•™</span>
                                    <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="number" placeholder="10"/>
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-1/3 justify-center">é»ä»¥ä¸‹ä¸å¹³å€‰</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <!-- New Header Checkbox: SP+BP Profit -->
                        <div class="group">
                            <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                                <input class="rounded border-gray-300 text-primary focus:ring-primary stop-loss-check" type="checkbox" onchange="toggleInputInGroup(this)"/>
                                <span class="text-sm font-bold">SP+BP åœåˆ© (Max 100%)</span>
                            </label>
                            <!-- Profit Target 2 (Changed to Warning Color) -->
                            <div class="flex h-8 shadow-sm rounded transition-opacity pointer-events-none input-group">
                                <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/3">ç²åˆ© / æˆäº¤åƒ¹ &gt;=</span>
                                <input class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs text-center focus:ring-1 focus:ring-warning" disabled type="number" value="85"/>
                                <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-10 justify-center">%</span>
                            </div>
                        </div>

                         <div class="group">
                            <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                                <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputInGroup(this)"/>
                                <span class="text-sm font-bold">ä¿åˆ©é™éƒ¨ä½ 2</span>
                            </label>
                             <!-- Removed opacity-50, Changed to Warning Color -->
                            <div class="space-y-2 pointer-events-none input-group transition-opacity">
                                <div class="flex h-8 shadow-sm rounded">
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/4">ç²åˆ© % &gt;=</span>
                                    <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="number" value="2.5"/>
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-1/3 justify-center">% å¹³å€‰æœ€é«˜åƒ¹</span>
                                </div>
                                <div class="flex h-8 shadow-sm rounded">
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-1/4">ä¿ç•™</span>
                                    <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="number" placeholder="20"/>
                                    <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-1/3 justify-center">é»ä»¥ä¸‹ä¸å¹³å€‰</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Instant Total Point Control -->
            <div class="bg-surface-light dark:bg-surface-dark rounded-md shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-6">
                <div class="flex justify-between items-center mb-4 border-b border-gray-100 dark:border-gray-700 pb-2">
                    <h3 class="font-bold text-gray-800 dark:text-white flex items-center space-x-2">
                        <span class="term-tooltip" data-tip="æ•´é«”éƒ¨ä½ç¸½é»æ•¸é”åˆ°æ•¸å€¼æ™‚åœæ">å³æ™‚ç¸½é»ç®¡æ§</span>
                    </h3>
                    <button class="flex items-center space-x-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 text-xs px-3 py-1.5 rounded transition border border-gray-300 dark:border-gray-600">
                        <span>ğŸ’¾</span>
                        <span>å„²å­˜</span>
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="åœ¨ç‰¹å®šæ™‚é–“(å¦‚12:45)æª¢æŸ¥ä¸¦å¹³å€‰">æ—¥ç›¤å®šæ™‚å¹³å€‰æœ€é«˜åƒ¹ (æ”¶ç›¤è‡ªå‹•é—œé–‰)</span>
                        </label>
                         <!-- Removed opacity-50 -->
                        <div class="flex h-8 items-center space-x-1 pointer-events-none input-group transition-opacity">
                            <select class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs h-full rounded px-1 min-w-0" disabled>
                                <option>09</option>
                                <option>10</option>
                                <option>11</option>
                                <option selected>12</option>
                            </select>
                            <span class="font-bold text-gray-500 shrink-0">:</span>
                            <select class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs h-full rounded px-1 min-w-0" disabled>
                                <option>00</option>
                                <option>15</option>
                                <option>30</option>
                                <option selected>45</option>
                            </select>
                            <span class="text-gray-500 mx-1 shrink-0">~</span>
                            <button class="flex-1 bg-warning text-white text-xs px-0 h-full rounded hover:bg-warning/90 whitespace-nowrap min-w-0 flex items-center justify-center">å³æ™‚ç¸½é» &gt;=</button>
                            <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs h-full rounded text-center min-w-0" disabled type="text" value="48"/>
                        </div>
                    </div>
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="åœ¨ç‰¹å®šæ™‚é–“æª¢æŸ¥ä¸¦å¹³å€‰">å¤œç›¤å®šæ™‚å¹³å€‰æœ€é«˜åƒ¹ (æ”¶ç›¤è‡ªå‹•é—œé–‰)</span>
                        </label>
                         <!-- Removed opacity-50 -->
                        <div class="flex h-8 items-center space-x-1 pointer-events-none input-group transition-opacity">
                            <select class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs h-full rounded px-1 min-w-0" disabled>
                                <option>23</option>
                                <option>00</option>
                                <option selected>01</option>
                            </select>
                            <span class="font-bold text-gray-500 shrink-0">:</span>
                            <select class="flex-1 bg-gray-100 dark:bg-gray-700 border-none text-xs h-full rounded px-1 min-w-0" disabled>
                                <option>00</option>
                                <option selected>05</option>
                                <option>10</option>
                                <option>15</option>
                            </select>
                            <span class="text-gray-500 mx-1 shrink-0">~</span>
                            <button class="flex-1 bg-warning text-white text-xs px-0 h-full rounded hover:bg-warning/90 whitespace-nowrap min-w-0 flex items-center justify-center">å³æ™‚ç¸½é» &gt;=</button>
                            <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs h-full rounded text-center min-w-0" disabled type="text" value="114"/>
                        </div>
                    </div>
                    <!-- Duplicate removed from here -->
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold term-tooltip" data-tip="æ•´é«”éƒ¨ä½ç¸½é»æ•¸é”åˆ°æ•¸å€¼æ™‚åœæï¼Œè‹¥è¶…éæ•¸å€¼ï¼Œå¹³å€‰æœ€é«˜é»æ•¸éƒ¨ä½">å³æ™‚ç¸½é»ç®¡æ§</span>
                        </label>
                         <!-- Removed opacity-50 -->
                        <div class="flex h-8 shadow-sm rounded pointer-events-none input-group transition-opacity">
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l min-w-[80px]">å³æ™‚ç¸½é» &gt;=</span>
                            <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="text" placeholder="1000"/>
                            <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r min-w-[80px] justify-center">å¹³å€‰æœ€é«˜åƒ¹</span>
                        </div>
                    </div>
                    <div class="group">
                        <label class="flex items-center space-x-2 cursor-pointer mb-2 select-none">
                            <input class="rounded border-gray-300 text-primary focus:ring-primary" type="checkbox" onchange="toggleInputInGroup(this)"/>
                            <span class="text-sm font-bold">è™§æé™ç¸½é»</span>
                        </label>
                         <!-- Removed opacity-50 -->
                        <div class="space-y-2 pointer-events-none input-group transition-opacity">
                            <div class="flex h-8 shadow-sm rounded">
                                <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l w-24">è™§æ % &lt;=</span>
                                <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="text" placeholder="30"/>
                                <span class="bg-warning text-white text-xs flex items-center px-2 rounded-r w-24">% å¹³å€‰æœ€é«˜åƒ¹</span>
                            </div>
                            <div class="flex h-8 w-3/4 shadow-sm rounded">
                                <span class="bg-warning text-white text-xs flex items-center px-2 rounded-l min-w-[80px]">å³æ™‚ç¸½é»é™åˆ°</span>
                                <input class="flex-1 bg-gray-200 dark:bg-gray-700 border-none text-xs text-center" disabled type="text" placeholder="500"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 1. Logic to set the contract date to the next Wednesday
        function setNextWednesdayDate() {
            const select = document.getElementById('contract-select');
            const today = new Date();
            const dayOfWeek = today.getDay(); // Sunday - 0, Monday - 1, etc.
            
            // Calculate days until next Wednesday (3)
            let daysUntilWednesday = 3 - dayOfWeek;
            if (daysUntilWednesday <= 0) {
                daysUntilWednesday += 7;
            }
            
            const nextWed = new Date(today);
            nextWed.setDate(today.getDate() + daysUntilWednesday);
            
            const year = nextWed.getFullYear();
            const month = String(nextWed.getMonth() + 1).padStart(2, '0');
            const day = String(nextWed.getDate()).padStart(2, '0');
            
            const dateString = `${year}/${month}/${day}`;
            
            // Create option
            const option = document.createElement('option');
            option.text = `è¿‘é€±ä¸‰ (${dateString})`;
            option.value = dateString;
            select.add(option);
        }

        // 2. Logic to toggle collapsible sections
        function toggleSection(contentId, iconId) {
            const content = document.getElementById(contentId);
            const icon = document.getElementById(iconId);
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.style.transform = 'rotate(0deg)';
            } else {
                content.classList.add('hidden');
                icon.style.transform = 'rotate(180deg)';
            }
        }

        // 3. Logic to toggle inputs based on checkboxes
        // Special case for temperature adjustment section
        function toggleInputs(sectionId, isChecked) {
            const inputsContainer = document.getElementById('temp-adjust-inputs');
            if (isChecked) {
                inputsContainer.classList.remove('pointer-events-none'); // Removed opacity-50
                // Enable all form elements inside
                const elements = inputsContainer.querySelectorAll('input, select, button');
                elements.forEach(el => el.disabled = false);
            } else {
                inputsContainer.classList.add('pointer-events-none'); // Removed opacity-50
                // Disable all form elements inside
                const elements = inputsContainer.querySelectorAll('input, select, button');
                elements.forEach(el => el.disabled = true);
            }
        }
        
        // General function for input groups
        function toggleInputInGroup(checkbox) {
            // Find the closest parent div with class 'group'
            const group = checkbox.closest('.group');
            if (!group) return;
            
            // Find the container with class 'input-group' inside this group
            const inputGroups = group.querySelectorAll('.input-group');
            
            inputGroups.forEach(container => {
                if (checkbox.checked) {
                    container.classList.remove('pointer-events-none'); // Removed opacity-50 toggle
                    // Enable inputs
                    const inputs = container.querySelectorAll('input, select, button');
                    inputs.forEach(input => {
                        input.disabled = false;
                        // If it's a text input, maybe clear the background color (handled by CSS now)
                    });
                } else {
                    container.classList.add('pointer-events-none'); // Removed opacity-50 toggle
                    // Disable inputs
                    const inputs = container.querySelectorAll('input, select, button');
                    inputs.forEach(input => input.disabled = true);
                }
            });
        }

        // 4. Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('sidebar-overlay');

        function toggleSidebar() {
            const isClosed = sidebar.classList.contains('-translate-x-full');
            if (isClosed) {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
            } else {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            }
        }

        mobileMenuBtn.addEventListener('click', toggleSidebar);
        overlay.addEventListener('click', toggleSidebar);

        // 5. Toggle Trading Logic
        // Initial state is true (Running)
        let isTrading = true;

        function toggleTrading() {
            const btn = document.getElementById('toggle-trading-btn');
            const btnText = document.getElementById('btn-text');
            const btnIcon = document.getElementById('btn-icon');
            const statusText = document.getElementById('trading-status-text');

            isTrading = !isTrading;

            if (isTrading) {
                // State: Trading Started (Button shows Stop)
                btn.classList.remove('bg-success', 'hover:bg-success/90');
                btn.classList.add('bg-danger', 'hover:bg-danger/90');
                btnText.textContent = 'â–  åœæ­¢äº¤æ˜“';
                btnIcon.style.display = 'none'; // Hide play icon
                
                statusText.textContent = 'äº¤æ˜“ä¸­';
            } else {
                // State: Trading Stopped (Button shows Start)
                btn.classList.remove('bg-danger', 'hover:bg-danger/90');
                btn.classList.add('bg-success', 'hover:bg-success/90');
                btnText.textContent = 'é–‹å§‹äº¤æ˜“';
                btnIcon.style.display = 'block'; // Show play icon
                
                statusText.textContent = 'äº¤æ˜“åœæ­¢';
            }
        }

        // Initialize and Tooltip Logic
        document.addEventListener('DOMContentLoaded', () => {
            setNextWednesdayDate();
            
            // Initialize checkbox states
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(cb => {
                if(cb.onchange) cb.onchange({target: cb});
                // Manually trigger for the specific named ones if needed
                if(cb.id === 'cb-temp-adjust') toggleInputs('temp-adjust-section', cb.checked);
                if(cb.classList.contains('stop-loss-check')) toggleInputInGroup(cb);
            });

            // Tooltip Logic
            const tooltip = document.getElementById('global-tooltip');
            const tooltipTargets = document.querySelectorAll('.term-tooltip');

            tooltipTargets.forEach(target => {
                target.addEventListener('mouseenter', (e) => {
                    const tipText = e.target.getAttribute('data-tip');
                    if (tipText) {
                        tooltip.textContent = tipText;
                        tooltip.style.display = 'block';
                        positionTooltip(e);
                    }
                });

                target.addEventListener('mousemove', (e) => {
                    positionTooltip(e);
                });

                target.addEventListener('mouseleave', () => {
                    tooltip.style.display = 'none';
                });
            });

            function positionTooltip(e) {
                const x = e.clientX;
                const y = e.clientY;
                
                // Offset
                const offsetX = 10;
                const offsetY = 20;

                // Viewport boundary check
                const tooltipRect = tooltip.getBoundingClientRect();
                let top = y + offsetY;
                let left = x + offsetX;

                if (left + tooltipRect.width > window.innerWidth) {
                    left = x - tooltipRect.width - offsetX;
                }
                if (top + tooltipRect.height > window.innerHeight) {
                    top = y - tooltipRect.height - offsetY;
                }

                tooltip.style.top = top + 'px';
                tooltip.style.left = left + 'px';
            }
        });

    </script>
</body>
</html>




