<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êô∫ËÉΩ‰∫§ÊòìË®≠ÂÆöËàáÂäüËÉΩË©≥Ëß£ÂøÉÊô∫Âúñ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ECharts Library -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <!-- Font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f9ff; /* Consistent with other pages */
            overflow: hidden; /* Prevent body scroll, let canvas handle it */
            height: 100vh;
            width: 100vw;
        }

        #mindmap-container {
            width: 100%;
            height: 100%;
            cursor: grab; /* Indicate draggable */
        }
        
        #mindmap-container:active {
            cursor: grabbing;
        }

        /* Combined Bottom Toolbar */
        .bottom-toolbar {
            position: absolute;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 12px;
            z-index: 100;
            align-items: center;
            flex-wrap: wrap; /* Prevent overflow on very small screens */
        }

        .control-btn {
            background-color: white;
            color: #4b5563;
            border: 1px solid #e5e7eb;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background-color: #f3f4f6;
            color: #1f2937;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .header-title {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 100;
            border-left: 5px solid #2563eb;
        }

        .nav-btn {
            background-color: white;
            color: #4b5563;
            text-decoration: none;
            border: 1px solid #e5e7eb;
            padding: 8px 16px;
            border-radius: 99px; /* Rounded pill shape */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 14px;
            font-weight: bold;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .line-btn:hover {
            background-color: #00B900;
            color: white;
            border-color: #00B900;
        }

        .home-btn:hover {
            background-color: #f3f4f6;
            color: #1f2937;
        }
        
        /* Divider line style */
        .divider {
            width: 1px;
            height: 24px;
            background-color: #cbd5e1;
            margin: 0 4px;
        }
    </style>
</head>
<body>

    <!-- Floating Header -->
    <div class="header-title">
        <h1 class="text-xl font-bold text-gray-800">Êô∫ËÉΩ‰∫§ÊòìË®≠ÂÆöËàáÂäüËÉΩË©≥Ëß£</h1>
        <p class="text-xs text-gray-500 mt-1">ÊªëÈº†ÊãñÊõ≥ÁßªÂãïÔºåÊªæËº™Á∏ÆÊîæÔºåÈªûÊìäÁØÄÈªûÂ±ïÈñã</p>
    </div>

    <!-- Chart Container -->
    <div id="mindmap-container"></div>

    <!-- Bottom Left Toolbar (Combined) -->
    <div class="bottom-toolbar">
        <!-- Navigation Links -->
        <a href="https://lin.ee/n3bZgtk" target="_blank" class="nav-btn line-btn">
            üí¨ ËÅØÁπ´ÂÆòÊñπ
        </a>
        <a href="index.html" class="nav-btn home-btn">
            üè† ÂõûÂà∞È¶ñÈ†Å
        </a>

        <!-- Visual Divider -->
        <div class="divider"></div>

        <!-- Controls -->
        <button class="control-btn" onclick="initialView()">ÈÇÑÂéüÊî∂Âêà</button>
        <button class="control-btn" onclick="expandAll()">ÂÖ®ÈÉ®Â±ïÈñã</button>
    </div>

    <script>
        // Data Structure based on user input
        const data = {
            name: "Êô∫ËÉΩ‰∫§Êòì\nË®≠ÂÆöËàáÂäüËÉΩ",
            children: [
                {
                    name: "‰∫§ÊòìÁ∏ΩË¶Ω",
                    itemStyle: { color: '#10b981' }, // Green
                    children: [
                        { name: "ÈÄ£Á∑ö‰∏≠/‰∫§Êòì‰∏≠\n(ÁãÄÊÖãÈ°ØÁ§∫ÔºåÈÄöÂ∏∏‰∏çÈúÄËÆäÂãï)" },
                        {
                            name: "Ê¨äÁõäÁ∏ΩÂÄº",
                            children: [
                                { name: "ÊúÄÁúüÂØ¶ÁöÑË≥áÈáëÁãÄÊ≥Å\n(Â∑≤Êâ£Èô§ÊâãÁ∫åË≤ª/Á®ÖÈáë)" },
                                { name: "Êã¨ËôüÈ°ØÁ§∫Áç≤Âà©ÔºÖ" }
                            ]
                        },
                        { name: "ÂèØÁî®ÈáëÈ°ç\n(Áî®Êñº‰øùÁïôÂèØÁî®È§òÈ°çÂà§Êñ∑)" },
                        { name: "ÊêçÁõäÈªûÊï∏\n(ÂèÉËÄÉÁî®ÔºåÊú™Êâ£Èô§ÊâãÁ∫åË≤ª/Á®ÖÈáë)" },
                        { name: "ÊåÅÂÄâÊàêÊú¨\n(ÊâÄÊúâÈÉ®‰ΩçÁöÑÁ∏ΩÊàêÊú¨ÈªûÊï∏)" },
                        {
                            name: "Âç≥ÊôÇÁ∏ΩÈªû",
                            children: [
                                { name: "ÊâÄÊúâÈÉ®‰ΩçÁõÆÂâçÁöÑÁ∏ΩÂÉπÂÄºÈªûÊï∏" },
                                { name: "Áç≤Âà©ÊôÇÈªûÊï∏Ê∏õÂ∞ëÔºå\nËôßÊêçÊôÇÈªûÊï∏Â¢ûÂä†" },
                                { name: "Sell Call + Sell Put\nÂÉπÂ∑ÆÁöÑÊúÄÂæåÈªûÊï∏Á∏ΩÂíå" }
                            ]
                        },
                        {
                            name: "ÊåÅÂÄâÊ∫´Â∫¶ (0-100)",
                            children: [
                                { name: "È°ØÁ§∫ÁõÆÂâçÈÉ®‰ΩçÁöÑÂ§öÁ©∫ÂÅèÂêë" },
                                { name: "0=ÂÅèÁ©∫(ÂÖ®Sell Call)\n100=ÂÅèÂ§ö(ÂÖ®Sell Put)\n50=‰∏≠Á´ã" },
                                { name: "C/PÊØî‰æãË®àÁÆó" }
                            ]
                        },
                        {
                            name: "Ê≠∏Èõ∂È†êÊúüÁ∏ΩÂ†±ÈÖ¨(%)",
                            children: [
                                { name: "ÊåÅÂÄâÈÉ®‰ΩçÂÖ®ÈÉ®Ê≠∏Èõ∂ÁöÑÈ†ê‰º∞" },
                                { name: "Ëã•ÊåÅÂÄâÈÉ®‰ΩçÁÑ°Ê≥ïÊ≠∏Èõ∂\nÂâá%‰∏çÊ∫ñÁ¢∫(ÈáçË¶Å!)" }
                            ]
                        }
                    ]
                },
                {
                    name: "Êô∫ËÉΩÂ†±ÂÉπ",
                    itemStyle: { color: '#f59e0b' }, // Yellow/Orange
                    children: [
                        {
                            name: "ÂêÑÂë®ÈÅ∏È†Ö",
                            children: [
                                { name: "MX1, MX2, MX4, MX5\nMXO=ÊúàÈÅ∏/Á¨¨‰∏âÈÄ±" },
                                { name: "Êúü‰∫§ÊâÄË¶èÂÆöÔºå\nÈÄöÂ∏∏Âè™ÈñãÊîæËøëÂÖ©ÈÄ±+ÊúàÈÅ∏" }
                            ]
                        },
                        {
                            name: "‰∫§ÊòìË°åÁÇ∫",
                            children: [
                                { name: "Âà§Êñ∑Â∏ÇÂ†¥Call/PutÁöÑË≤∑Ë≥£ÂÅèÂêë\n(SC vs BC, BP vs SP)" },
                                { name: "ÁÆ≠È†≠ÂèäÈ°èËâ≤Ë°®Á§∫Ë∂®Âã¢\n(Á¥Ö/‰∏ä=Êº≤, Á∂†/‰∏ã=Ë∑å)" }
                            ]
                        },
                        {
                            name: "Áï∂Áõ§Êï∏ÂÄº",
                            children: [
                                { name: "Á∂úÂêàÂ∏ÇÂ†¥ÊâÄÊúâÈÉ®‰Ωç\nË®àÁÆóÂá∫ÁöÑÂñÆ‰∏ÄÊï∏ÂÄº" },
                                { name: "Ê≠£Êï∏ÂÅèÂ§öÔºåË≤†Êï∏ÂÅèÁ©∫" },
                                { name: "ÂñÆÁ≠ÜÂ¢ûÊ∏õ¬±3000\n(ÊúâÂ§ßÂñÆÔºåË®ÇÈñ±Êô∫ËÉΩÂ†±ÂÉπÊúÉÊèêÈÜí)" }
                            ]
                        }
                    ]
                },
                {
                    name: "Âü∫Êú¨Ë®≠ÂÆö",
                    itemStyle: { color: '#3b82f6' }, // Blue
                    children: [
                        {
                            name: "‰øùÁïôÂèØÁî®È§òÈ°ç",
                            children: [
                                { name: "‰ΩéÊñºË®≠ÂÆöÈáëÈ°çÊôÇ‰∏çÂª∫Á´ãÊñ∞ÈÉ®‰Ωç" },
                                { name: "ÂèØË®≠ÂÆöÁôæÂàÜÊØîÊàñÈáëÈ°ç" }
                            ]
                        },
                        {
                            name: "ÂãïÊÖãSellÂÉπ‰∏äÈôê/‰∏ãÈôê",
                            children: [
                                { name: "Ë®≠ÂÆöÊôÇÊèõÁÆóÂá∫ÁöÑË≥£Âá∫SellÂÉπ,\n‰∏çÊòØÂÉπÂ∑ÆÁöÑÊàê‰∫§ÂÉπ" },
                                { name: "ÂãïÊÖãSellÂÉπÁµêÊûú‰ΩéÊñºË®≠ÂÆöÂÉπ‰∏ãÈôê,\n‰∏ç‰∏ãÂñÆ" },
                                { name: "ÂãïÊÖãSellÂÉπÁµêÊûúÈ´òÊñºË®≠ÂÆöÂÉπ‰∏äÈôê,\nËá™ÂãïÈôç‰ΩéÁÇ∫Ë®≠ÂÆöÂÄº" }
                            ]
                        },
                        {
                            name: "ÂßîË®óËÆìÂÉπ",
                            children: [
                                { name: "Âπ≥Ë°°Êàê‰∫§ËàáÊªëÂÉπ" },
                                { name: "‰∏çÂΩ±ÈüøÂ∏ÇÂ†¥Ë°åÊÉÖËÆäÂãï" },
                                { name: "Ë®≠ÂÆöË∂äÂ§ß,Ë∂äÂÆπÊòìÊàê‰∫§\n(ÂßîË®óÂÉπ = Êàê‰∫§ÂÉπ + ËÆìÂÉπ)" }
                            ]
                        }
                    ]
                },
                {
                    name: "ÊñπÂêëÂà§Êñ∑",
                    itemStyle: { color: '#8b5cf6' }, // Purple
                    children: [
                        {
                            name: "ÂõõÁ®ÆÂà§Êñ∑Á≠ñÁï•",
                            children: [
                                { name: "ÂêàË®àÊñπÂêëÔºö\nCallËàáPut‰∫§ÊòìË°åÁÇ∫ÊñπÂêë‰∏ÄËá¥ÊôÇÊâç‰∫§Êòì" },
                                { name: "Â§öÁ©∫Ê∫´Â∫¶Ôºö\nÂ∏ÇÂ†¥Â§öÁ©∫Ê∫´Â∫¶ÈÅîÂà∞Ë®≠ÂÆöÊï∏ÂÄºÊôÇ‰∫§Êòì" },
                                { name: "ÈÄÜÂã¢Â§öÁ©∫Ê∫´Â∫¶Ôºö\nÈ´ò‰ΩéÊñºË®≠ÂÆöÂÄº,ÂÅöÈÄÜÂã¢ÈÉ®‰Ωç" },
                                { name: "ÊúüË≤®ÂÉπÊ†ºÔºö\nÂèØËá™Ë°åË®≠ÂÆöÂÉπÊ†º" }
                            ]
                        },
                        { name: "Ê¢ù‰ª∂ÂãæÈÅ∏Ôºö\nÂèØÂãæÈÅ∏Â§öÈ†ÖÔºåÈúÄÂêåÊôÇÁ¨¶ÂêàÊ¢ù‰ª∂" },
                        { 
                            name: "‰∏ªËßÄÂà§Êñ∑ÊñπÂêë",
                            children: [
                                { name: "ÂèØÈÄèÈÅé Â§öÁ©∫Ê∫´Â∫¶ÊàñÊúüË≤®ÂÉπÊ†º,\nË®≠ÂÆöËá™Â∑±ÊÉ≥Ë¶ÅÊàê‰∫§ÁöÑÊñπÂêë" }
                            ]
                        }
                    ]
                },
                {
                    name: "Â§öÁ©∫Ê∫´Â∫¶Ë™øÊï¥",
                    itemStyle: { color: '#ec4899' }, // Pink
                    children: [
                        {
                            name: "Ë®≠ÂÆöÂäõÈÅì (%)",
                            children: [
                                { name: "ÂèÉËÄÉÂ∏ÇÂ†¥Â§öÁ©∫Ê∫´Â∫¶ÁöÑÊ¨äÈáç" },
                                { name: "100%ÂÆåÂÖ®Áõ∏‰ø°Â∏ÇÂ†¥Ôºå\n0%ÂÆåÂÖ®‰∏çÁõ∏‰ø°Â∏ÇÂ†¥" }
                            ]
                        },
                        {
                            name: "ÂÆπË®±ÁØÑÂúç",
                            children: [
                                { name: "Ë®≠ÂÆö‰∏çÂãï‰ΩúÁØÑÂúç (Â¶Ç +/- 40Èªû)" },
                                { name: "ÈÅøÂÖçÈ†ªÁπÅË™øÊï¥ÈÉ®‰Ωç" }
                            ]
                        },
                        {
                            name: "Ë™øÊï¥Ê©üÂà∂",
                            children: [
                                { name: "ÊØîËºÉÊåÅÂÄâÊ∫´Â∫¶ËàáÂ∏ÇÂ†¥Ê∫´Â∫¶" },
                                { name: "Ë∂ÖÂá∫ÁØÑÂúçÊôÇËá™ÂãïË™øÊï¥Ôºö\nÂèØÁî®ÈáëÈ°çË∂≥Â§†ÊôÇÂä†ÂÄâÔºå‰∏çË∂≥ÊôÇÂπ≥ÂÄâ" },
                                { name: "Âπ≥ÂÄâÂÑ™ÂÖàËôïÁêÜÈªûÊï∏ÊúÄÈ´òÁöÑÂç±Èö™ÈÉ®‰Ωç" }
                            ]
                        }
                    ]
                },
                {
                    name: "‰∫§ÊòìÊ¢ù‰ª∂",
                    itemStyle: { color: '#ef4444' }, // Red
                    children: [
                        {
                            name: "ÁîüÂëΩÁ∏ΩÂÄºÂ¢ûÊ∏õ (%)",
                            children: [
                                { name: "Ëß∏Áôº‰∫§ÊòìÁöÑÊôÇÊ©üÈªû" }
                            ]
                        },
                        {
                            name: "ÂãïÊÖãSellÂÉπË®≠ÂÆö",
                            children: [
                                { name: "Ê±∫ÂÆöË≥£Âá∫ÈÉ®‰Ωç(Sell)ÁöÑÂ±•Á¥ÑÂÉπ" },
                                { name: "Ë®àÁÆóÔºöÁîüÂëΩÁ∏ΩÂÄº / Ë®≠ÂÆöÂÄº = ÂãïÊÖãSellÂÉπ" },
                                { name: "Âª∫Ë≠∞Êó•Â§úÁõ§ÈñãÁõ§ÂèØÊõ¥Êñ∞Ë®≠ÂÆö" }
                            ]
                        },
                        {
                            name: "ÂÉπÂ§ñÈªûÊï∏",
                            children: [
                                { name: "Ê±∫ÂÆöË≤∑ÂÖ•ÈÉ®‰Ωç(Buy)ÁöÑÂ±•Á¥ÑÂÉπÈñìË∑ù" },
                                { name: "Âª∫Ë≠∞Ë®≠ÂÆö50/100/150Èªû\n(ËàáË≥áÈáëÊúâÈóúÔºå100ÈªûÊúÄÊôÆÈÅçÈÅ©Áî®)" },
                                { name: "Á®ãÂºèËá™ÂãïÂ∞ãÊâæÂ∞çÊáâÂÉπ‰ΩçË≤∑ÂÖ•" }
                            ]
                        }
                    ]
                },
                {
                    name: "ÂÅúÊêçÂÅúÂà©",
                    itemStyle: { color: '#6366f1' }, // Indigo
                    children: [
                        {
                            name: "ÂêÑÂà•Ë®≠ÁΩÆ",
                            children: [
                                { name: "ÂèØÈáùÂ∞ç Call/Put ÁöÑ Sell/Buy ÂñÆÁç®Ë®≠ÂÆö" },
                                { name: "ÈÄöÂ∏∏‰ΩøÁî®È†êË®≠ÂÄº" }
                            ]
                        },
                        {
                            name: "‰øùÂà©ÈôçÈÉ®‰Ωç1/2",
                            children: [
                                { name: "Ê¨äÁõäÁ∏ΩÂÄºÁç≤Âà©%ÈÅîÂà∞Ë®≠ÂÆöÂÄºÊôÇËß∏Áôº" },
                                { name: "Âπ≥ÂÄâÁõ¥Âà∞Ââ©È§òÈªûÊï∏\n‰ΩéÊñº„Äå‰øùÁïôÈªûÊï∏„Äç" },
                                { name: "‰øùÂà©ÁãÄÊÖã‰∏ã‰∏çÂª∫Á´ãÊñ∞ÈÉ®‰Ωç" }
                            ]
                        },
                        {
                            name: "ËôßÊêçÈôçÈÉ®‰Ωç",
                            children: [
                                { name: "Ê¨äÁõäÁ∏ΩÂÄºËôßÊêç%ÈÅîÂà∞Ë®≠ÂÆöÂÄºÊôÇËß∏Áôº" },
                                { name: "Âπ≥ÂÄâÁõ¥Âà∞Ââ©È§òÈªûÊï∏\n‰ΩéÊñº„Äå‰øùÁïôÈªûÊï∏„Äç" },
                                { name: "ËôßÊêçÁãÄÊÖã‰∏ã‰∏çÂª∫Á´ãÊñ∞ÈÉ®‰Ωç" }
                            ]
                        }
                    ]
                },
                {
                    name: "Âç≥ÊôÇÁ∏ΩÈªûÁÆ°Êéß",
                    itemStyle: { color: '#0d9488' }, // Teal
                    children: [
                        { name: "Êï¥È´îÈÉ®‰ΩçÁ∏ΩÈªûÊï∏ÈÅîÂà∞Êï∏ÂÄºÊôÇÂÅúÊêç" },
                        { name: "Ëã•Ë∂ÖÈÅéÊï∏ÂÄºÔºåÂπ≥ÂÄâÊúÄÈ´òÈªûÊï∏ÈÉ®‰Ωç" },
                        { name: "Êï∏ÂÄºÈúÄ‰æùÁï∂ÂâçÊú¨ÈáëË™øÊï¥" },
                        {
                            name: "ÂÆöÊôÇÂπ≥ÂÄâ",
                            children: [
                                { name: "‰æãÂ¶ÇÔºöÁµêÁÆóÊó•Áõ§ 12:55" },
                                { name: "Ë®≠ÂÆöÂç≥ÊôÇÁ∏ΩÈªûÊï∏ÂÄºÔºåË∂ÖÈÅéÊôÇÂπ≥ÂÄâ" },
                                { name: "Ê≠§Ë®≠ÂÆöÈöîÂ§©Ëá™ÂãïÂèñÊ∂à" }
                            ]
                        }
                    ]
                }
            ]
        };

        // Initialize Chart
        var myChart = echarts.init(document.getElementById('mindmap-container'));
        var option;

        option = {
            tooltip: {
                trigger: 'item',
                triggerOn: 'mousemove',
                formatter: '{b}' // Show name on hover
            },
            series: [
                {
                    type: 'tree',
                    data: [data],
                    top: '5%',
                    left: '10%',
                    bottom: '5%',
                    right: '20%',
                    symbolSize: 10,
                    
                    // 1. ÂïüÁî® Roam (ÊãñÊõ≥ËàáÁ∏ÆÊîæ)
                    roam: true,

                    // 2. Âà§Êñ∑ÁØÄÈªûÊòØÂê¶ÊúâÂ≠êÂ±§ÔºåËã•ÁÑ°ÂâáÈö±Ëóè Symbol (Â∞èÂúìÈªû)
                    symbol: function(value, params) {
                        if (params.data.children && params.data.children.length > 0) {
                            return 'circle';
                        } else {
                            return 'none';
                        }
                    },

                    layout: 'orthogonal',
                    orient: 'LR', // Left to Right layout
                    
                    label: {
                        position: 'left',
                        verticalAlign: 'middle',
                        align: 'right',
                        fontSize: 14,
                        fontFamily: 'Noto Sans TC',
                        fontWeight: 'bold',
                        backgroundColor: '#f9fafb',
                        padding: [4, 8],
                        borderRadius: 4
                    },

                    leaves: {
                        label: {
                            position: 'right',
                            verticalAlign: 'middle',
                            align: 'left',
                            backgroundColor: '#fff',
                            borderColor: '#cbd5e1',
                            borderWidth: 1,
                            borderRadius: 6,
                            padding: [6, 10],
                            fontSize: 13,
                            color: '#333',
                            shadowBlur: 2,
                            shadowColor: 'rgba(0,0,0,0.1)',
                            lineHeight: 18
                            // Removed fixed width and overflow to auto-fit text
                        }
                    },

                    emphasis: {
                        focus: 'descendant'
                    },

                    expandAndCollapse: true,
                    animationDuration: 550,
                    animationDurationUpdate: 750,
                    
                    // Style logic for different levels
                    itemStyle: {
                        borderColor: '#555',
                        borderWidth: 1
                    },
                    lineStyle: {
                        color: '#94a3b8',
                        curveness: 0.5,
                        width: 2
                    },
                    
                    // Initial expansion level (Root + Level 1)
                    initialTreeDepth: 1 
                }
            ]
        };

        myChart.setOption(option);

        // Handle Resize
        window.addEventListener('resize', function() {
            myChart.resize();
        });

        // Control Functions
        function initialView() {
            myChart.dispatchAction({
                type: 'restore'
            });
            // Reset to initial depth and re-center logic handled by restore
            // Also ensure option settings stick
             option.series[0].initialTreeDepth = 1;
             myChart.setOption(option);
        }

        function expandAll() {
            option.series[0].initialTreeDepth = -1; // -1 means all
            myChart.setOption(option);
        }

        function collapseAll() {
            option.series[0].initialTreeDepth = 0; // Only root
            myChart.setOption(option);
        }

    </script>
</body>
</html>